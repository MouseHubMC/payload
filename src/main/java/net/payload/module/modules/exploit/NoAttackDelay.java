package net.payload.module.modules.exploit;

import net.payload.Payload;
import net.payload.event.events.AttackCooldownEvent;
import net.payload.event.listeners.AttackCooldownListener;
import net.payload.module.Category;
import net.payload.module.Module;
import net.payload.settings.types.FloatSetting;

public class NoAttackDelay extends Module implements AttackCooldownListener {

    private final FloatSetting base = FloatSetting.builder()
            .id("noatkdly_basetime")
            .displayName("Base Time")
            .defaultValue(3f)
            .minValue(0f)
            .maxValue(3f)
            .step(0.25f)
            .build();

    public NoAttackDelay() {
        super("NoAttackDelay");

        this.setName("NoAttackDelay");
        this.setCategory(Category.of("exploit"));
        this.setDescription("Changes the swing cooldown in modern minecraft");
        this.addSetting(base);

    }

    public float getBaseTime() {
        return base.getValue();
    }

    @Override
    public void onDisable() {
        Payload.getInstance().eventManager.RemoveListener(AttackCooldownListener.class, this);

    }

    @Override
    public void onEnable() {
        Payload.getInstance().eventManager.AddListener(AttackCooldownListener.class, this);

    }

    @Override
    public void onToggle() {

    }

    @Override
    public void OnAttack(AttackCooldownEvent readPacketEvent) {
        readPacketEvent.cancel();
    }
}